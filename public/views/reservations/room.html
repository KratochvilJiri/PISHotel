<!-- new user form -->

<div class="ui attached message">
    <div class="header">
        Rezervace
    </div>
</div>
<form class="ui form attached fluid segment">
    <div class="field">
        <div class="ui floating labeled icon dropdown button">
            <i class="user icon"></i>
            <span class="text">Volba zákazníka</span>
            <div class="menu">
                <div class="item">
                    <i class="add user icon"></i>
                    Vytvořit nového zákazníka
                </div>
                <div class="divider"></div>
                <div class="header">
                    Vyhledat zákazníka
                </div>
                <div class="ui left icon input">
                    <i class="search icon"></i>
                    <input type="text" name="search" placeholder="Search...">
                </div>
                <div ng-click="setCustomer(customer)" ng-repeat="customer in customers" class="item">
                    {{customerToString(customer)}}
                </div>
            </div>
        </div>
    </div>
    <div class="two fields">
        <div class="field">
            <label>Počet dospělých</label>
            <input placeholder="Počet dospělých" type="number" ng-model="reservation.numberOfAdults">
        </div>
        <div class="field">
            <label>Počet dětí</label>
            <input placeholder="Počet dětí" type="number" ng-model="reservation.numberOfChildren">
        </div>
    </div>
    <div class="two fields">
        <div class="field">
            <label>Datum začátku pobytu</label>
            <input type="date" ng-model="reservation.dateFrom" format-date>
        </div>
        <div class="field">
            <label>Datum konce pobytu</label>
            <input type="date" ng-model="reservation.dateTo" format-date>
        </div>
    </div>
    <div class="field">
        <label>Pokoj</label>
        <select ng-options="(item.ID + ' ' + item.roomType.name + ' za ' + item.price + 'CZK') for item in rooms track by item._id" class="ui dropdown" ng-model="reservation.room">
            <option value="">Vyberte pokoj</option>
        </select>
    </div>
    <div class="two fields">
        <div class="field">
            <label>Typ penze</label>
            <select ng-options="item.name for item in pensionTypes track by item.code" class="ui dropdown" ng-model="reservation.pensionType">
                <option value="">Vyberte penzi</option>
            </select>
        </div>
        <div class="field">
            <label>Způsob platby</label>
            <select ng-options="item.name for item in paymentTypes track by item.code" class="ui dropdown" ng-model="reservation.paymentType">
                <option value="">Vyberte způsob platby</option>
            </select>
        </div>
    </div>
</form>
<table class="ui celled attached striped table">
    <thead>
        <tr>
            <th>Název služby</th>
            <th>Počet</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="editable">
                <select ng-options="item.name for item in services" class="ui dropdown" ng-model="newReservationService.service">
                    <option value="">Vyberte službu</option>
                </select>
            </td>
            <td class="editable">
                <input type="number" ng-model="newReservationService.count" placeholder="Zadejte počet" />
            </td>
            <td>
                <a class="ui basic button" ng-click="addService(newReservationService)">
                    <i class="save icon"></i> Vložit
                </a>
            </td>
        </tr>
        <tr ng-repeat="service in reservation.services">
            <td class="editable">
                <select ng-options="item.name for item in services track by item._id" class="ui dropdown" ng-model="service.service">
                    <option value="">Vyberte službu</option>
                </select>
            </td>
            <td class="editable">
                <input type="number" ng-model="service.count" placeholder="Zadejte cenu služby" />
            </td>
            <td>
                <a class="ui basic button" ng-click="removeService($index)">
                    <i class="remove red icon"></i> Smazat
                </a>
            </td>
        </tr>
    </tbody>
</table>
<div class="ui attached message">
    <div class="header">
        Kalkulace
    </div>
</div>
<form class="ui form attached fluid segment">
    <div class="field">

    </div>
</form>
<div class="ui bottom attached message">
    <a ng-click="save()" class="ui button fontWhite BGOrange">
        <i class="save icon"></i>
        Uložit
    </a>
</div>

